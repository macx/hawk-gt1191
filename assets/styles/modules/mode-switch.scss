/*
┌──────────────────────────────────┐
  THEME TOGGLE
└──────────────────────────────────┘
*/

.mode-switch {
  $this: &;

  position: relative;
  user-select: none;
  height: var(--header-height);
  padding: 0 1rem;

  display: flex;
  align-items: center;
  cursor: pointer;
  transition: background-color var(--transition);

  &__input {
    background: yellow;
    clip: rect(0 0 0 0);
    clip-path: inset(100%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;

    &:checked + #{$this}__slider {
      &::after {
        left: calc(100% - 1.4rem - 0.2rem);
      }
    }
  }

  &__button {
    border: 2px solid var(--clr-text);
    border-radius: 4rem;
  }

  &__slider {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 4rem;
    padding: 0.3rem 0.6rem;

    &::after {
      content: '';
      position: absolute;
      top: 0.1rem;
      width: 1.4rem;
      height: 1.4rem;
      border-radius: 50%;
      background-color: var(--clr-text);
      transition: left var(--transition--theme),
        background-color var(--transition--button);

      [data-mode='dark'] & {
        left: 0.2rem;
      }

      [data-mode='light'] & {
        left: calc(100% - 1.4rem - 0.2rem);
      }
    }
  }

  &__icon {
    display: block;
    width: 1rem;
    height: 1rem;
    fill: var(--clr-text);
  }

  &:hover,
  &:focus-visible {
    #{$this}__slider::after {
      background-color: var(--clr-primary);
    }
  }

  @include respond('large') {
    padding: 0 1.6rem 0 1rem;
  }
}
